{% for hero in hero_section %}
<section class="bg-white dark:bg-gray-900">

    <div class="grid max-w-screen-xl px-4 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12 scroll-animation">
        <div class="mr-auto place-self-center lg:col-span-7 hero-text">
            <h1 class="max-w-2xl mb-4 text-4xl font-extrabold tracking-tight leading-none md:text-5xl xl:text-6xl dark:text-white">{{hero.heading}}</h1>
            <p class="max-w-2xl mb-6 font-light text-gray-500 lg:mb-8 md:text-lg lg:text-xl dark:text-gray-400">{{hero.description}}</p>
            <a href="{{ hero.button_1 }}" class="inline-flex items-center justify-center px-5 py-3 mr-3 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900">
                Get started
            </a>
            <a href="{{ hero.button_2 }}" class="inline-flex items-center justify-center px-5 py-3 text-base font-medium text-center text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800">
                Speak to Sales
            </a> 
        </div>
        <div class="hidden lg:mt-0 lg:col-span-5 lg:flex hero-image" id="hero-image">
            <img src="{{ hero.img.url }}" alt="mockup">
        </div>                
    </div>
</section>
{% endfor %}

<script>


    document.addEventListener('DOMContentLoaded', function () {
        const heroImage = document.getElementById('hero-image');
        const heroText = document.querySelectorAll('.hero-text'); // Select all hero text elements
    
        document.addEventListener('mousemove', function (e) {
            const x = e.clientX;
            const y = e.clientY;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
    
            const xOffset = ((x / windowWidth) - 0.5) * 20;
            const yOffset = ((y / windowHeight) - 0.5) * 20;
    
            heroImage.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
        });
    
        // Function to check if an element is in the viewport
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }
    
        // Apply fade-in class when the text comes into the viewport
        function handleScroll() {
            heroText.forEach(text => {
                if (isElementInViewport(text)) {
                    text.classList.add('fade-in'); // Add fade-in class
                }
            });
        }
    
        // Add scroll event listener
        window.addEventListener('scroll', handleScroll);
        handleScroll(); // Initial check for the text in the viewport
    });
    
    
</script>